# Methods

## Data Processing

There are 3 NanoString CodeSets:

* CS 1: OvCa2103_C953
  * Samples = 412
  * Genes = 275
* CS 2: PrOTYPE2_v2_C1645
  * Samples = 1223
  * Genes = 384
* CS 3: OTTA2014_C2822
  * Samples = 5424
  * Genes = 532
  
These datasets contain raw counts extracted straight from NanoString RCC files.

## Housekeeping Genes

The first normalization step is to normalize all endogenous genes to housekeeping genes (POLR1B, SDHA, PGK1, ACTB, RPL19; reference genes expressed in all cells). We normalize by subtracting the average log2 housekeeping gene expression from the log2 endogenous gene expression. The updated CodeSet dimensions are now:

* CS 1: OvCa2103_C953
  * Samples = 412
  * Genes = 256
* CS 2: PrOTYPE2_v2_C1645
  * Samples = 1223
  * Genes = 365
* CS 3: OTTA2014_C2822
  * Samples = 5424
  * Genes = 513

The number of genes are reduced by 19: 5 housekeeping, 8 negative, 6 positive (the latter 2 types are not used).

## Common Samples and Genes

Since the reference pool samples only exist in CS2 and CS3, we need to find an alternative method to normalize all three CodeSets. One method is to select common samples and common genes that exist in all three. We found 72 common genes. Using the `summaryID` identifer, we found 78 common summary IDs, which translated to 320 samples. The number of samples that were found in each CodeSet differed:

* CS 1: OvCa2103_C953
  * Samples = 93
  * Genes = 72
* CS 2: PrOTYPE2_v2_C1645
  * Samples = 87
  * Genes = 72
* CS 3: OTTA2014_C2822
  * Samples = 140
  * Genes = 72
